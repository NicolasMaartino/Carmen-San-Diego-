@startuml
title Un detective con 6 robos toma caso de un sospechoso que roba Incan Gold Mask,\n realiza la investigacion, emite la orden, y atrapa al sospechoso
actor "Jugador" as AlgoThief
participant ":Partida" as Partida
participant ":Detective" as Grado
participant ":ObjetoComun" as ObjetoRobado
participant "ciudadInicial:Ciudad" as Ciudad
participant ":Ladron" as Ladron
participant ":Policia" as Policia
participant ":Comisaria" as Comisaria

AlgoThief ->> Partida : nuevoCaso(6)
activate Partida
    Partida ->> Grado : new()
    Partida ->> ObjetoRobado : new()
    Partida ->> ObjetoRobado : ciudad()
    ObjetoRobado --> Partida : [ciudadInicial]
    Partida ->> Ciudad : new()
    Partida ->> Ladron : new()
    Partida ->> Ladron : asignarObjetoRobado(ObjetoComun)
    Partida ->> Policia : registroPolicia(Sospechoso, Novato, ciudadInicial)
    Partida ->> Comisaria : new()
deactivate Partida

AlgoThief ->> Partida : anotarGenero("Masculino")
activate Partida
Partida ->> Policia : anotarGenero("Masculino")
deactivate Partida

AlgoThief ->> Partida : emitirOrdenDeArresto()
activate Partida
Partida ->> Policia : cargarDatos(Comisaria)
activate Policia
Policia ->> Comisaria : cargarDatos(Sospechoso)
Comisaria --> Policia : [Ladrones]
deactivate Policia
Policia --> Partida : [Ladrones]
Partida --> AlgoThief : [Ladrones]
deactivate Partida

AlgoThief ->> AlgoThief : assertEquals(2, Ladrones.size())
AlgoThief ->> Partida : atrapar()
activate Partida
Partida ->> Policia : atrapar(Ladron)
Policia --> Partida : [false]
deactivate Partida
Partida --> AlgoThief : [false]
AlgoThief ->> AlgoThief : assertFalse(false)
AlgoThief ->> Partida : anotarSenia("Anteojos")
activate Partida
Partida ->> Policia : anotarSenia("Anteojos")
deactivate Partida
AlgoThief ->> Partida : emitirOrdenDeArresto()
activate Partida
Partida ->> Policia : cargarDatos(Comisaria)
activate Policia
Policia ->> Comisaria : cargarDatos(Sospechoso)
Comisaria --> Policia : [Ladrones]
deactivate Policia
Policia --> Partida : [Ladrones]
Partida --> AlgoThief : [Ladrones]
deactivate Partida
AlgoThief ->> AlgoThief : assertEquals(1, Ladrones.size())
AlgoThief ->> AlgoThief : assertEquals("Nicokai", nombreLadron)
AlgoThief ->> Partida : atrapar()
activate Partida
Partida ->> Policia : atrapar(Ladron)
Policia --> Partida : [true]
deactivate Partida
Partida --> AlgoThief : [true]
AlgoThief ->> AlgoThief : assertTrue(true)
@enduml